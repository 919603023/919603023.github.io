"use strict";(self.webpackChunkblog_vuepress=self.webpackChunkblog_vuepress||[]).push([[5151],{1135:(e,l,n)=>{n.r(l),n.d(l,{data:()=>s});const s={key:"v-408cf76b",path:"/other/docker/_blog/ClionDocker%E7%9A%84C++%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83/ClionDocker%E7%9A%84C++%E8%B0%83%E8%AF%95%E7%8E%AF%E5%A2%83.html",title:"Clion、Docker的C\\C++调试环境",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"环境信息",slug:"环境信息",children:[]},{level:2,title:"一、制作镜像",slug:"一、制作镜像",children:[{level:3,title:"1. 编写Dockerfile",slug:"_1-编写dockerfile",children:[]}]},{level:2,title:"二、运行镜像",slug:"二、运行镜像",children:[]},{level:2,title:"三、Clion设置",slug:"三、clion设置",children:[{level:3,title:"1. 首先在CLion中添加SSH",slug:"_1-首先在clion中添加ssh",children:[]},{level:3,title:"2. 在Clion 添加工具链",slug:"_2-在clion-添加工具链",children:[]},{level:3,title:"3. 在Clion 添加远程cmake",slug:"_3-在clion-添加远程cmake",children:[]},{level:3,title:"4.重新载入cmake项目",slug:"_4-重新载入cmake项目",children:[]},{level:3,title:"5.查看、设置构建项",slug:"_5-查看、设置构建项",children:[]}]},{level:2,title:"四、完成",slug:"四、完成",children:[{level:3,title:"1. 运行",slug:"_1-运行",children:[]},{level:3,title:"2. 调试",slug:"_2-调试",children:[]}]}],filePathRelative:"other/docker/_blog/ClionDocker的C++调试环境/ClionDocker的C++调试环境.md",git:{updatedTime:1629551095e3,contributors:[]}}},2526:(e,l,n)=>{n.r(l),n.d(l,{default:()=>M});var s=n(6252),r=n(9165),a=n(391),i=n(9543),t=n(5793),c=n(6377),_=n(3754);const u=(0,s._)("h1",{id:"clion、docker的c-c-调试环境",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#clion、docker的c-c-调试环境","aria-hidden":"true"},"#"),(0,s.Uk)(" Clion、Docker的C\\C++调试环境")],-1),o=(0,s._)("h2",{id:"环境信息",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#环境信息","aria-hidden":"true"},"#"),(0,s.Uk)(" 环境信息")],-1),d=(0,s._)("ul",null,[(0,s._)("li",null,"CLion 2021.1.1"),(0,s._)("li",null,"Docker version 20.10.8, build 3967b7d"),(0,s._)("li",null,"Docker镜像 Ubuntu20.04")],-1),b=(0,s._)("h2",{id:"一、制作镜像",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#一、制作镜像","aria-hidden":"true"},"#"),(0,s.Uk)(" 一、制作镜像")],-1),h=(0,s._)("h3",{id:"_1-编写dockerfile",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_1-编写dockerfile","aria-hidden":"true"},"#"),(0,s.Uk)(" 1. 编写Dockerfile")],-1),m=(0,s._)("div",{class:"language-Dockerfile ext-Dockerfile line-numbers-mode"},[(0,s._)("pre",{class:"language-Dockerfile"},[(0,s._)("code",null,'FROM ubuntu:20.04 \n\nRUN echo \'root:root\' |chpasswd\nRUN echo "deb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse\\n \\\ndeb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse \\n \\\ndeb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse\\n\t\\\ndeb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse\\n" \\\n\t\t\t> /etc/apt/sources.list\\\n\t\t\t&& apt update && apt install -y \\ \n\t\t\tgcc \\\n\t\t\tg++ \\\n\t\t\tcmake\\\n\t\t\tmake \\\n\t\t\t#openssh-client \\\n\t\t\topenssh-server \\\n\t\t\t#ssh \\\n\t\t\tgdb \\\n\t\t\trsync\\\n\t\t\t#vim \\\n\t\t\t#clang\\\n\t\t\t&& apt clean \\\n\t\t\t&& rm -rf /tmp/* /var/lib/apt/lists/* /var/tmp/* \\\n\t\t\t&& echo "PermitRootLogin yes" >> /etc/ssh/sshd_config\n\nRUN mkdir /var/run/sshd\n\nEXPOSE 22\n\nCMD ["/usr/sbin/sshd","-D"]\n')]),(0,s._)("div",{class:"line-numbers"},[(0,s._)("span",{class:"line-number"},"1"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"2"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"3"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"4"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"5"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"6"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"7"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"8"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"9"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"10"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"11"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"12"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"13"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"14"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"15"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"16"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"17"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"18"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"19"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"20"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"21"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"22"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"23"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"24"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"25"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"26"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"27"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"28"),(0,s._)("br"),(0,s._)("span",{class:"line-number"},"29"),(0,s._)("br")])],-1),k=(0,s._)("blockquote",null,[(0,s._)("p",null,"看需求按照 gcc、g++ 等，如有其他需要可以在里面加。")],-1),p=(0,s._)("h4",{id:"_2-构建镜像",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_2-构建镜像","aria-hidden":"true"},"#"),(0,s.Uk)(" 2. 构建镜像")],-1),g=(0,s._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,s._)("pre",{class:"language-bash"},[(0,s._)("code",null,[(0,s._)("span",{class:"token function"},"sudo"),(0,s.Uk)(" docker build -t C++_docker "),(0,s._)("span",{class:"token builtin class-name"},"."),(0,s.Uk)("\n")])]),(0,s._)("div",{class:"line-numbers"},[(0,s._)("span",{class:"line-number"},"1"),(0,s._)("br")])],-1),f=(0,s._)("blockquote",null,[(0,s._)("p",null,"构建成功就有提示："),(0,s._)("blockquote",null,[(0,s._)("p",null,[(0,s.Uk)("Successfully built fdf5d0cdc6f2"),(0,s._)("br"),(0,s.Uk)(" Successfully tagged test:latest")])])],-1),v=(0,s._)("h2",{id:"二、运行镜像",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#二、运行镜像","aria-hidden":"true"},"#"),(0,s.Uk)(" 二、运行镜像")],-1),U=(0,s._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,s._)("pre",{class:"language-bash"},[(0,s._)("code",null,[(0,s._)("span",{class:"token function"},"sudo"),(0,s.Uk)(" docker run -itd  -p "),(0,s._)("span",{class:"token number"},"10122"),(0,s.Uk)(":22 _docker  \n")])]),(0,s._)("div",{class:"line-numbers"},[(0,s._)("span",{class:"line-number"},"1"),(0,s._)("br")])],-1),x=(0,s._)("h2",{id:"三、clion设置",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#三、clion设置","aria-hidden":"true"},"#"),(0,s.Uk)(" 三、Clion设置")],-1),C=(0,s._)("h3",{id:"_1-首先在clion中添加ssh",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_1-首先在clion中添加ssh","aria-hidden":"true"},"#"),(0,s.Uk)(" 1. 首先在CLion中添加SSH")],-1),D=(0,s._)("blockquote",null,[(0,s._)("p",null,[(0,s.Uk)("在设置中的 "),(0,s._)("strong",null,"工具"),(0,s.Uk)(" ---\x3e  "),(0,s._)("strong",null,"SSH配置"),(0,s.Uk)("  ---\x3e  "),(0,s._)("strong",null,"点击+号添加"),(0,s._)("img",{src:r,alt:"添加SSH"})])],-1),S=(0,s._)("h3",{id:"_2-在clion-添加工具链",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_2-在clion-添加工具链","aria-hidden":"true"},"#"),(0,s.Uk)(" 2. 在Clion 添加工具链")],-1),E=(0,s._)("blockquote",null,[(0,s._)("p",null,[(0,s.Uk)("在设置中的 "),(0,s._)("strong",null,"构建、执行、部署"),(0,s.Uk)("  ---\x3e  "),(0,s._)("strong",null,"工具链"),(0,s.Uk)("  ---\x3e  "),(0,s._)("strong",null,"点击+号添加"),(0,s._)("img",{src:a,alt:"添加SSH"})])],-1),q=(0,s._)("h3",{id:"_3-在clion-添加远程cmake",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_3-在clion-添加远程cmake","aria-hidden":"true"},"#"),(0,s.Uk)(" 3. 在Clion 添加远程cmake")],-1),A=(0,s._)("blockquote",null,[(0,s._)("ol",null,[(0,s._)("li",null,[(0,s._)("strong",null,"构建、执行、部署"),(0,s.Uk)("  ")]),(0,s._)("li",null,[(0,s._)("strong",null,"cmake")]),(0,s._)("li",null,[(0,s._)("strong",null,"点击+号添加")]),(0,s._)("li",null,[(0,s._)("strong",null,"修改名称为自己需要的名称")]),(0,s._)("li",null,[(0,s._)("strong",null,"构建类型选择自己需要的类型")]),(0,s._)("li",null,[(0,s._)("strong",null,"工具链选择刚刚创建的工具链")]),(0,s._)("li",null,[(0,s._)("strong",null,"其他选项看情况修改"),(0,s._)("img",{src:i,alt:"添加cmake"})])])],-1),y=(0,s._)("h3",{id:"_4-重新载入cmake项目",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_4-重新载入cmake项目","aria-hidden":"true"},"#"),(0,s.Uk)(" 4.重新载入cmake项目")],-1),H=(0,s._)("blockquote",null,[(0,s._)("p",null,[(0,s.Uk)("点击主界面上栏的 "),(0,s._)("strong",null,"文件"),(0,s.Uk)(" 中的 "),(0,s._)("strong",null,"重新加载cmake项目")])],-1),R=(0,s._)("h3",{id:"_5-查看、设置构建项",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_5-查看、设置构建项","aria-hidden":"true"},"#"),(0,s.Uk)(" 5.查看、设置构建项")],-1),F=(0,s._)("blockquote",null,[(0,s._)("p",null,[(0,s.Uk)("把构建配置选为刚刚设置的配置 "),(0,s._)("img",{src:t,alt:"查看、设置构建项"})])],-1),w=(0,s._)("h2",{id:"四、完成",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#四、完成","aria-hidden":"true"},"#"),(0,s.Uk)(" 四、完成")],-1),L=(0,s._)("h3",{id:"_1-运行",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_1-运行","aria-hidden":"true"},"#"),(0,s.Uk)(" 1. 运行")],-1),N=(0,s._)("blockquote",null,[(0,s._)("p",null,[(0,s.Uk)("可以看到在生成的目录是远程的目录 "),(0,s._)("img",{src:c,alt:"结果"})])],-1),P=(0,s._)("h3",{id:"_2-调试",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#_2-调试","aria-hidden":"true"},"#"),(0,s.Uk)(" 2. 调试")],-1),B=(0,s._)("blockquote",null,[(0,s._)("p",null,[(0,s.Uk)("调试也正常 "),(0,s._)("img",{src:_,alt:"调试结果"})])],-1),M={render:function(e,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[u,o,d,b,h,m,k,p,g,f,v,U,x,C,D,S,E,q,A,y,H,R,F,w,L,N,P,B],64)}}},5793:(e,l,n)=>{e.exports=n.p+"assets/img/查看构建项.e4b94685.png"},9165:(e,l,n)=>{e.exports=n.p+"assets/img/添加SSH.4dc972dc.png"},9543:(e,l,n)=>{e.exports=n.p+"assets/img/添加cmake.794355b9.png"},391:(e,l,n)=>{e.exports=n.p+"assets/img/添加工具链.046b9691.png"},6377:(e,l,n)=>{e.exports=n.p+"assets/img/结果.9d1f886d.png"},3754:(e,l,n)=>{e.exports=n.p+"assets/img/调试结果.4a6a5c6a.png"}}]);